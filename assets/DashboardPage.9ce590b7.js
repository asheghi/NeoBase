import{A as j,r as F}from"./api.9cb1a443.js";import{o as s,c as n,a as t,m as q,p as V,b as N,d as o,e as i,u as r,t as B,h as x,i as y,F as L,z as P,k as C,n as b,T,g as D}from"./index.e2c66d80.js";import{N as d}from"./N-Button.66bfda2d.js";import{i as E,I as z,a as O,t as R}from"./theme.fb52200f.js";const v={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},S=t("path",{d:"M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"},null,-1),U=[S];function G(a,e){return s(),n("svg",v,U)}v.width="24";v.height="24";v.viewBox="0 0 24 24";var I={render:G};const p={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},J=t("path",{d:"M21 19v1H3v-1l2-2v-6c0-3.1 2.03-5.83 5-6.71V4a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.29c2.97.88 5 3.61 5 6.71v6l2 2m-7 2a2 2 0 0 1-2 2 2 2 0 0 1-2-2"},null,-1),K=[J];function Q(a,e){return s(),n("svg",p,K)}p.width="24";p.height="24";p.viewBox="0 0 24 24";var A={render:Q};const m={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},W=t("path",{d:"M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4Z"},null,-1),X=[W];function Y(a,e){return s(),n("svg",m,X)}m.width="24";m.height="24";m.viewBox="0 0 24 24";var H={render:Y};const k={viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"180",height:"180",class:"application-logo logo"},ee=t("path",{d:"M19.93 4.092c-.038-1.197-1.158-2.269-3.162-3.024C14.935.379 12.521 0 9.965 0 7.41 0 4.995.38 3.166 1.068 1.165 1.822.045 2.89.004 4.085L0 4.85c0 .278.25.714.7 1.071.534.421 1.326.837 2.29 1.2 2.052.776 4.66 1.237 6.975 1.237 2.316 0 4.923-.463 6.975-1.238.965-.364 1.756-.78 2.29-1.2.451-.356.7-.792.7-1.07v-.757Z",fill:"#95CDF9"},null,-1),te=t("path",{d:"M17.6 8.778c-2.229.841-5.057 1.342-7.565 1.342s-5.337-.501-7.566-1.342C1.65 8.468.95 7.964.378 7.565a.21.21 0 0 0-.202-.017.186.186 0 0 0-.078.065.16.16 0 0 0-.028.092v1.332c0 .278.249.627.7.985.534.421 1.325.837 2.29 1.2 2.052.774 4.66 1.236 6.975 1.236 2.315 0 4.923-.462 6.975-1.237.964-.364 1.756-.78 2.29-1.201.45-.356.7-.705.7-.982V7.704a.162.162 0 0 0-.029-.092.186.186 0 0 0-.078-.064.21.21 0 0 0-.201.018c-.573.397-1.273.901-2.091 1.21Z",fill:"#6EBBF7"},null,-1),se=t("path",{d:"M17.6 12.501c-2.229.84-5.057 1.343-7.565 1.343s-5.337-.502-7.566-1.343C1.65 12.191.95 11.687.378 11.29a.21.21 0 0 0-.202-.018.186.186 0 0 0-.078.065.161.161 0 0 0-.028.092v1.29c0 .277.249.626.7.983.533.422 1.325.837 2.29 1.201 2.052.774 4.659 1.236 6.975 1.236s4.923-.462 6.975-1.237c.964-.364 1.756-.779 2.29-1.2.45-.358.7-.707.7-.983v-1.29a.162.162 0 0 0-.029-.092.186.186 0 0 0-.078-.064.209.209 0 0 0-.201.018c-.573.397-1.273.9-2.091 1.211Z",fill:"#48A8F5"},null,-1),oe=t("path",{d:"M17.531 16.363c-2.23.84-5.058 1.342-7.566 1.342S4.63 17.203 2.4 16.363c-.818-.31-1.518-.814-2.09-1.212a.21.21 0 0 0-.202-.018.186.186 0 0 0-.079.064.161.161 0 0 0-.028.092v1.29c0 .278.25.627.7.984.534.422 1.326.837 2.29 1.2C5.042 19.539 7.65 20 9.965 20c2.316 0 4.923-.462 6.975-1.237.965-.364 1.756-.78 2.29-1.201.451-.357.7-.707.7-.983v-1.29a.161.161 0 0 0-.029-.091.186.186 0 0 0-.077-.064.209.209 0 0 0-.202.018c-.572.397-1.273.9-2.091 1.211Z",fill:"#48A8F5"},null,-1),ne=[ee,te,se,oe];function ae(a,e){return s(),n("svg",k,ne)}k.width="24";k.height="24";var M={render:ae};const g={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},ce=t("path",{d:"M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4Z"},null,-1),re=[ce];function ie(a,e){return s(),n("svg",g,re)}g.width="24";g.height="24";g.viewBox="0 0 24 24";var le={render:ie};const w={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},de=t("path",{d:"M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9 3.5 3.5 0 0 1 12 5.5M5 8c.56 0 1.08.15 1.53.42-.15 1.43.27 2.85 1.13 3.96C7.16 13.34 6.16 14 5 14a3 3 0 0 1-3-3 3 3 0 0 1 3-3m14 0a3 3 0 0 1 3 3 3 3 0 0 1-3 3c-1.16 0-2.16-.66-2.66-1.62a5.536 5.536 0 0 0 1.13-3.96c.45-.27.97-.42 1.53-.42M5.5 18.25c0-2.07 2.91-3.75 6.5-3.75s6.5 1.68 6.5 3.75V20h-13v-1.75M0 20v-1.5c0-1.39 1.89-2.56 4.45-2.9-.59.68-.95 1.62-.95 2.65V20H0m24 0h-3.5v-1.75c0-1.03-.36-1.97-.95-2.65 2.56.34 4.45 1.51 4.45 2.9V20Z"},null,-1),he=[de];function _e(a,e){return s(),n("svg",w,he)}w.width="24";w.height="24";w.viewBox="0 0 24 24";var ue={render:_e};const f={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},ve=t("path",{d:"M6 8c0-2.21 1.79-4 4-4s4 1.79 4 4-1.79 4-4 4-4-1.79-4-4m6 10.2c0-.96.5-1.86 1.2-2.46v-.24c0-.39.07-.76.18-1.12-1.03-.24-2.17-.38-3.38-.38-4.42 0-8 1.79-8 4v2h10v-1.8m10 .1v3.5c0 .6-.6 1.2-1.3 1.2h-5.5c-.6 0-1.2-.6-1.2-1.3v-3.5c0-.6.6-1.2 1.2-1.2v-1.5c0-1.4 1.4-2.5 2.8-2.5s2.8 1.1 2.8 2.5V17c.6 0 1.2.6 1.2 1.3m-2.5-2.8c0-.8-.7-1.3-1.5-1.3s-1.5.5-1.5 1.3V17h3v-1.5Z"},null,-1),pe=[ve];function me(a,e){return s(),n("svg",f,pe)}f.width="24";f.height="24";f.viewBox="0 0 24 24";var ge={render:me};const $={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},we=t("path",{d:"m16.5 9-3 3 3 3H22V9M9 16.5V22h6v-5.5l-3-3M7.5 9H2v6h5.5l3-3M15 7.5V2H9v5.5l3 3 3-3Z"},null,-1),fe=[we];function $e(a,e){return s(),n("svg",$,fe)}$.width="24";$.height="24";$.viewBox="0 0 24 24";var xe={render:$e};const u=q(),_=V(()=>u&&u.params&&u.params.collection?u.params.collection:null),Ce=V(()=>[{label:"Database",icon:le,to:(()=>_.value?{name:"documents",params:{collection:_.value}}:{name:"collections"})()},{label:"Users",icon:ue,to:{name:"auth"}},{label:"Access Control",icon:ge,to:(()=>_.value?{name:"access-config",params:{collection:_.value}}:{name:"access"})()},{label:"Playground",icon:xe,to:(()=>_.value?{name:"collection-playground",params:{collection:_.value}}:{name:"playground"})()}]);const Me={class:"DashNavBar"},ke={class:"hidden lg:flex"},Be=D(" NeoBase "),ye={class:"lg:hidden"},Ve=["textContent"],Ne={class:"flex lg:hidden mb-6"},be=D(" NeoBase "),De={key:0,class:"links"},Ie=["textContent"],Ae={name:"DashNavBar",components:{NButton:d,IconMenu:I,IconNotifications:A,IconAccount:H,IconLogo:M},data(){return{expanded:!1}},computed:{title(){return this.$route.name},project(){return this.$route.params.project}}},He=Object.assign(Ae,{setup(a){return(e,c)=>{const h=N("router-link");return s(),n("nav",Me,[t("div",ke,[o(d,{class:"gap-2 px-0 mr-4"},{default:i(()=>[o(r(M)),Be]),_:1})]),t("div",ye,[o(d,{class:"square",onClick:c[0]||(c[0]=l=>e.expanded=!e.expanded)},{default:i(()=>[o(r(I))]),_:1})]),t("div",{class:"title",textContent:B(e.title)},null,8,Ve),o(d,{class:"square ml-auto",onClick:r(R)},{default:i(()=>[(s(),x(y(r(E)?r(z):r(O)),{class:"toggle",width:"28",height:"28"}))]),_:1},8,["onClick"]),o(d,{class:"square"},{default:i(()=>[o(r(A))]),_:1}),o(d,{class:"square"},{default:i(()=>[o(r(H))]),_:1}),t("div",{class:b(["nav-drawer",{expanded:e.expanded,"hide-nav":!e.project}])},[t("div",Ne,[o(d,{class:"gap-2 px-0"},{default:i(()=>[o(r(M)),be]),_:1})]),e.project?(s(),n("div",De,[(s(!0),n(L,null,P(r(Ce),(l,Z)=>(s(),x(h,{key:Z,class:"item",to:l.to,onClick:c[1]||(c[1]=Fe=>e.expanded=!1)},{default:i(()=>[l.icon?(s(),x(y(l.icon),{key:0,class:"icon"})):C("",!0),t("div",{class:"label",textContent:B(l.label)},null,8,Ie)]),_:2},1032,["to"]))),128))])):C("",!0)],2),o(T,{name:"fade"},{default:i(()=>[e.expanded?(s(),n("div",{key:0,class:"nav-drawer-shadow lg:hidden",onClick:c[2]||(c[2]=l=>e.expanded=!1)})):C("",!0)]),_:1})])}}});const Ze={class:"DashboardPage"},je={async beforeRouteEnter(a,e,c){try{const{data:h,status:l}=await j.me()}catch(h){return console.error(h),c("/login")}c()},computed:{project(){return this.$route.params.project},showHome(){return this.$route.name}},methods:{logout(){F(),this.$router.replace("/login")}}},Ee=Object.assign(je,{setup(a){return(e,c)=>{const h=N("router-view");return s(),n("div",Ze,[o(He),t("div",{class:b(["dash-content-wrapper",{"hide-nav":!e.project}])},[o(h,{class:"dash-content"})],2)])}}});export{Ee as default};
