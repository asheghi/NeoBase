import{M as g}from"./Modal.f59337fd.js";import{A as h}from"./api.9cb1a443.js";import{o as n,c as l,a as t,_ as y,b as c,F as k,z as b,d as m,T as x,e as _,k as u,h as v,g as V,t as M,n as D,B as N,w as B,v as j}from"./index.7b1a8b90.js";const r={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},I=t("path",{d:"M9 3v1H4v2h1v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6h1V4h-5V3H9m0 5h2v9H9V8m4 0h2v9h-2V8Z"},null,-1),T=[I];function F(a,s){return n(),l("svg",r,T)}r.width="24";r.height="24";r.viewBox="0 0 24 24";var H={render:F};const d={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},L=t("path",{d:"M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"},null,-1),P=[L];function z(a,s){return n(),l("svg",d,P)}d.width="24";d.height="24";d.viewBox="0 0 24 24";var A={render:z};const K={name:"PlaygroundView",components:{Modal:g,DeleteIcon:H,CreateIcon:A},data(){return{form:{name:""},collections:[]}},computed:{project(){return this.$route.params.project},collection(){return this.$route.params.collection}},mounted(){this.fetchData()},methods:{showNewCollectionModal(){this.$refs.modal.show()},async submit(){await h.Collections(this.project).create({name:this.form.name}),this.$refs.modal.hide(),this.form.name="",await this.fetchData()},async fetchData(){const{data:a}=await h.Collections(this.project).list();this.collections=a},async removeCollection(a){await h.Collections(this.project).delete(a.name),await this.fetchData()}}},S={class:"FireStore"},Z={class:"side-bar"},E=t("div",{class:"head"},"Collections",-1),U={class:"items"},q=["onClick"],G={key:0,class:"document w-full h-full relative"},J={key:1,class:"select-document"},O={key:0},Q={key:1,class:""},R={class:"new-project"},W={class:"form-group"},X=t("label",{for:"email"},"Collection Name",-1);function Y(a,s,$,ee,i,o){const w=c("DeleteIcon"),f=c("router-link"),p=c("router-view"),C=c("Modal");return n(),l("div",S,[t("div",Z,[E,t("button",{class:"btn btn-text btn-sm",onClick:s[0]||(s[0]=(...e)=>o.showNewCollectionModal&&o.showNewCollectionModal(...e))}," New Collection "),t("div",U,[(n(!0),l(k,null,b(i.collections,e=>(n(),v(f,{key:e,to:{name:"collection-playground",params:{collection:e.name}},class:D(["item name",{selected:e.name===o.collection}])},{default:_(()=>[V(M(e.name)+" ",1),t("div",{class:"drop",onClick:te=>o.removeCollection(e)},[m(w,{class:"fill-red-500 opacity-75",width:"24",height:"24"})],8,q)]),_:2},1032,["to","class"]))),128))])]),o.collection?(n(),l("div",G,[m(x,{name:"fade"},{default:_(()=>[(n(),v(p,{key:o.collection}))]),_:1})])):u("",!0),o.collection?u("",!0):(n(),l("div",J,[i.collections&&i.collections.length?(n(),l("div",O," select a collection first ")):(n(),l("div",Q,"create a collection first"))])),m(C,{ref:"modal"},{default:_(()=>[t("div",R,[t("div",{class:"form",onKeydown:s[3]||(s[3]=N((...e)=>o.submit&&o.submit(...e),["enter"]))},[t("div",W,[X,B(t("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=e=>i.form.name=e),name:"email",placeholder:"Choose a plural name"},null,512),[[j,i.form.name]])]),t("button",{class:"btn",onClick:s[2]||(s[2]=(...e)=>o.submit&&o.submit(...e))},"Create")],32)])]),_:1},512)])}var le=y(K,[["render",Y]]);export{le as default};
